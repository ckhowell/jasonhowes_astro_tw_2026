@import url('https://fonts.googleapis.com/css2?family=Mona+Sans:ital,wght@0,200..900;1,200..900&family=Poppins:wght@400;600;700&display=swap');
@import "tailwindcss";

/* Enable class-based dark mode */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Monochromatic Blue Palette - like Oatmeal's Olive approach */
  /* One color family with tonal variations from light to dark */
  --color-brand-25: #f1f1ff;
  --color-brand-50: #dee7f4;
  --color-brand-100: #d5e1f1;
  --color-brand-200: #b8d0ed;
  --color-brand-300: #8ab4e0;
  --color-brand-400: #5a94d1;
  --color-brand-500: #3a78bc;
  --color-brand-600: #2d5f99;
  --color-brand-700: #244a78;
  --color-brand-800: #1a3557;
  --color-brand-900: #0e1c2b;
  --color-brand-950: #0a1520;
  --color-brand: var(--color-brand-900);
  --color-brand-light: var(--color-brand-300);
  --color-muted: var(--color-brand-500);
  --font-family-heading: 'Mona Sans', sans-serif;
  --font-family-sans: 'Inter', sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;
  --font-size-6xl: 3.75rem;
}

@layer base {
    :root {
        --btn-radius: 9999px;
        --btn-font-weight: 600;
        --btn-gap: 0.5rem;
        --btn-padding-x: 1.5rem;
        --btn-padding-y: 0.75rem;
        --btn-padding-x-sm: 1.25rem;
        --btn-padding-y-sm: 0.625rem;
        --btn-padding-x-lg: 2rem;
        --btn-padding-y-lg: 1rem;
        --btn-focus-ring: var(--color-brand-200);
        --btn-transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease, gap 0.2s ease;

        --btn-primary-bg: var(--color-brand-500);
        --btn-primary-bg-hover: var(--color-brand-400);
        --btn-primary-text: var(--color-brand-50);
        --btn-primary-border: transparent;

        --btn-secondary-bg: transparent;
        --btn-secondary-bg-hover: var(--color-brand-25);
        --btn-secondary-text: var(--color-brand-400);
        --btn-secondary-border: var(--color-brand-400);

        --btn-link-color: var(--color-brand-500);
        --btn-link-hover: var(--color-brand-600);
    }

    .dark {
        --btn-primary-bg: var(--color-brand-100);
        --btn-primary-bg-hover: var(--color-brand-200);
        --btn-primary-text: var(--color-brand-900);
        --btn-primary-border: transparent;

        --btn-secondary-bg-hover: var(--color-brand-800);
        --btn-secondary-text: var(--color-brand-300);
        --btn-secondary-border: var(--color-brand-600);

        --btn-link-color: var(--color-brand-300);
        --btn-link-hover: var(--color-brand-200);
    }

    :where(p) {
        color: var(--color-brand-700);
    }

    .dark :where(p) {
        color: var(--color-brand-300);
    }

    :where(strong, b) {
        color: var(--color-brand-700);
        font-weight: 600;
    }

    .dark :where(strong, b) {
        color: var(--color-brand-300);
    }

    :where(ul, ol) {
        color: var(--color-brand-700);
    }

    .dark :where(ul, ol) {
        color: var(--color-brand-300);
    }

    :where(li) {
        color: var(--color-brand-700);
    }

    .dark :where(li) {
        color: var(--color-brand-300);
    }

    :where(a) {
        color: var(--color-brand-700);
    }

    .dark :where(a) {
        color: var(--color-brand-300);
    }

    :where(blockquote) {
        color: var(--color-brand-700);
    }

    .dark :where(blockquote) {
        color: var(--color-brand-300);
    }

    :where(em, i:not([class])) {
        color: inherit;
    }

    :where(small) {
        color: var(--color-brand-700);
    }

    .dark :where(small) {
        color: var(--color-brand-300);
    }

    :where(mark) {
        background-color: var(--color-brand-300);
        color: var(--color-brand-700);
    }

    .dark :where(mark) {
        background-color: var(--color-brand-700);
        color: var(--color-brand-300);
    }

    :where(code:not(pre code)) {
        background-color: var(--color-brand-300);
        color: var(--color-brand-700);
        padding: 0.125rem 0.375rem;
        border-radius: 0.25rem;
        font-size: 0.875em;
    }

    .dark :where(code:not(pre code)) {
        background-color: var(--color-brand-700);
        color: var(--color-brand-300);
    }
}

@layer components {
    :where(.btn) {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: var(--btn-gap);
        padding: var(--btn-padding-y) var(--btn-padding-x);
        border-radius: var(--btn-radius);
        border: 1px solid transparent;
        font-weight: var(--btn-font-weight);
        font-size: 0.875rem;
        line-height: 1.5;
        text-decoration: none;
        cursor: pointer;
        transition: var(--btn-transition);
        background-color: transparent;
        color: inherit;
    }

    :where(.btn-sm) {
        padding: var(--btn-padding-y-sm) var(--btn-padding-x-sm);
        font-size: 0.8125rem;
    }

    :where(.btn-lg) {
        padding: var(--btn-padding-y-lg) var(--btn-padding-x-lg);
        font-size: 1rem;
    }

    :where(.btn-primary) {
        background-color: var(--btn-primary-bg);
        color: var(--btn-primary-text);
        border-color: var(--btn-primary-border);
    }

    :where(.btn-primary:hover) {
        background-color: var(--btn-primary-bg-hover);
    }

    :where(.btn-secondary) {
        background-color: var(--btn-secondary-bg);
        color: var(--btn-secondary-text);
        border-color: var(--btn-secondary-border);
    }

    :where(.btn-secondary:hover) {
        background-color: var(--btn-secondary-bg-hover);
    }

    :where(.btn-link) {
        padding: 0;
        border: none;
        border-radius: 0;
        background-color: transparent;
        color: var(--btn-link-color);
        font-weight: 600;
    }

    :where(.btn-link:hover) {
        color: var(--btn-link-hover);
        gap: calc(var(--btn-gap) + 0.25rem);
    }

    :where(.btn):focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px var(--btn-focus-ring);
    }

    /* Glass Card - Glassmorphic style for softer contrast */
    :where(.card-glass) {
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(36px);
        -webkit-backdrop-filter: blur(36px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 1rem;
        box-shadow: 0 8px 32px rgba(36, 74, 120, 0.1), 0 2px 8px rgba(36, 74, 120, 0.05);
    }

    .dark :where(.card-glass) {
        background: rgba(14, 28, 43, 0.6);
        border: 1px solid rgba(138, 180, 224, 0.15);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    /* Glass Card Subtle - Even more transparent */
    :where(.card-glass-subtle) {
        background: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(24px);
        -webkit-backdrop-filter: blur(24px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 1rem;
        box-shadow: 0 4px 24px rgba(36, 74, 120, 0.08), 0 1px 4px rgba(36, 74, 120, 0.04);
    }

    .dark :where(.card-glass-subtle) {
        background: rgba(14, 28, 43, 0.4);
        border: 1px solid rgba(138, 180, 224, 0.1);
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25), 0 1px 4px rgba(0, 0, 0, 0.15);
    }

    /* Glass Card Strong - More opaque for better readability */
    :where(.card-glass-strong) {
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(48px);
        -webkit-backdrop-filter: blur(48px);
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-radius: 1rem;
        box-shadow: 0 12px 40px rgba(36, 74, 120, 0.12), 0 4px 12px rgba(36, 74, 120, 0.06);
    }

    .dark :where(.card-glass-strong) {
        background: rgba(14, 28, 43, 0.8);
        border: 1px solid rgba(138, 180, 224, 0.2);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.35), 0 4px 12px rgba(0, 0, 0, 0.25);
    }

    /* Glass Card Solid - Frosted glass over brand-50/brand-950 backgrounds */
    :where(.card-glass-solid) {
        background:
            linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.9) 0%,
                rgba(255, 255, 255, 0.6) 50%,
                rgba(255, 255, 255, 0.65) 100%
            );
        backdrop-filter: blur(24px) saturate(120%);
        -webkit-backdrop-filter: blur(24px) saturate(120%);
        border: 3px solid rgba(255, 255, 255, 0.8);
        border-radius: 1rem;
        box-shadow:
            0 4px 24px rgba(36, 74, 120, 0.08),
            0 1px 3px rgba(36, 74, 120, 0.04),
            inset 0 1px 0 rgba(255, 255, 255, 0.9),
            inset 1px 0 0 rgba(255, 255, 255, 0.4);
    }

    .dark :where(.card-glass-solid) {
        background:
            linear-gradient(
                135deg,
                rgba(138, 180, 224, 0.12) 0%,
                rgba(14, 28, 43, 0.5) 40%,
                rgba(14, 28, 43, 0.55) 100%
            );
        border: 3px solid rgba(138, 180, 224, 0.15);
        box-shadow:
            0 4px 24px rgba(0, 0, 0, 0.25),
            0 1px 3px rgba(0, 0, 0, 0.15),
            inset 0 1px 0 rgba(138, 180, 224, 0.2),
            inset 1px 0 0 rgba(138, 180, 224, 0.08);
    }

    /* Form Input Glass - Frosted glass style for form inputs */
    :where(.input-glass) {
        width: 100%;
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        background:
            linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.85) 0%,
                rgba(255, 255, 255, 0.6) 100%
            );
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.8);
        color: var(--color-brand-700);
        box-shadow:
            inset 0 1px 0 rgba(255, 255, 255, 0.9),
            0 1px 3px rgba(36, 74, 120, 0.06);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    :where(.input-glass)::placeholder {
        color: var(--color-brand-400);
    }

    :where(.input-glass):focus {
        outline: none;
        border-color: var(--color-brand-400);
        box-shadow:
            inset 0 1px 0 rgba(255, 255, 255, 0.9),
            0 0 0 3px rgba(58, 120, 188, 0.15);
    }

    .dark :where(.input-glass) {
        background:
            linear-gradient(
                135deg,
                rgba(138, 180, 224, 0.08) 0%,
                rgba(14, 28, 43, 0.5) 100%
            );
        border: 1px solid rgba(138, 180, 224, 0.15);
        color: var(--color-brand-100);
        box-shadow:
            inset 0 1px 0 rgba(138, 180, 224, 0.1),
            0 1px 3px rgba(0, 0, 0, 0.15);
    }

    .dark :where(.input-glass)::placeholder {
        color: var(--color-brand-500);
    }

    .dark :where(.input-glass):focus {
        border-color: var(--color-brand-400);
        box-shadow:
            inset 0 1px 0 rgba(138, 180, 224, 0.1),
            0 0 0 3px rgba(138, 180, 224, 0.15);
    }

    /* Textarea specific - solid background */
    :where(textarea.input-glass) {
        background: var(--color-brand-50);
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
    }

    .dark :where(textarea.input-glass) {
        background: var(--color-brand-950);
    }
}

@layer utilities {
    :where(.text-brand-50) { color: var(--color-brand-50); }
    :where(.text-brand-100) { color: var(--color-brand-100); }
    :where(.text-brand-200) { color: var(--color-brand-200); }
    :where(.text-brand-300) { color: var(--color-brand-300); }
    :where(.text-brand-400) { color: var(--color-brand-400); }
    :where(.text-brand-500) { color: var(--color-brand-500); }
    :where(.text-brand-600) { color: var(--color-brand-600); }
    :where(.text-brand-700) { color: var(--color-brand-700); }
    :where(.text-brand-800) { color: var(--color-brand-800); }
    :where(.text-brand-900) { color: var(--color-brand-900); }
    :where(.text-brand-950) { color: var(--color-brand-950); }

    .dark :where(.dark\:text-brand-50) { color: var(--color-brand-50); }
    .dark :where(.dark\:text-brand-100) { color: var(--color-brand-100); }
    .dark :where(.dark\:text-brand-200) { color: var(--color-brand-200); }
    .dark :where(.dark\:text-brand-300) { color: var(--color-brand-300); }
    .dark :where(.dark\:text-brand-400) { color: var(--color-brand-400); }
    .dark :where(.dark\:text-brand-500) { color: var(--color-brand-500); }
    .dark :where(.dark\:text-brand-600) { color: var(--color-brand-600); }
    .dark :where(.dark\:text-brand-700) { color: var(--color-brand-700); }
    .dark :where(.dark\:text-brand-800) { color: var(--color-brand-800); }
    .dark :where(.dark\:text-brand-900) { color: var(--color-brand-900); }
    .dark :where(.dark\:text-brand-950) { color: var(--color-brand-950); }

    :where(.bg-brand-50) { background-color: var(--color-brand-50); }
    :where(.bg-brand-100) { background-color: var(--color-brand-100); }
    :where(.bg-brand-200) { background-color: var(--color-brand-200); }
    :where(.bg-brand-300) { background-color: var(--color-brand-300); }
    :where(.bg-brand-400) { background-color: var(--color-brand-400); }
    :where(.bg-brand-500) { background-color: var(--color-brand-500); }
    :where(.bg-brand-600) { background-color: var(--color-brand-600); }
    :where(.bg-brand-700) { background-color: var(--color-brand-700); }
    :where(.bg-brand-800) { background-color: var(--color-brand-800); }
    :where(.bg-brand-900) { background-color: var(--color-brand-900); }
    :where(.bg-brand-950) { background-color: var(--color-brand-950); }

    .dark :where(.dark\:bg-brand-50) { background-color: var(--color-brand-50); }
    .dark :where(.dark\:bg-brand-100) { background-color: var(--color-brand-100); }
    .dark :where(.dark\:bg-brand-200) { background-color: var(--color-brand-200); }
    .dark :where(.dark\:bg-brand-300) { background-color: var(--color-brand-300); }
    .dark :where(.dark\:bg-brand-400) { background-color: var(--color-brand-400); }
    .dark :where(.dark\:bg-brand-500) { background-color: var(--color-brand-500); }
    .dark :where(.dark\:bg-brand-600) { background-color: var(--color-brand-600); }
    .dark :where(.dark\:bg-brand-700) { background-color: var(--color-brand-700); }
    .dark :where(.dark\:bg-brand-800) { background-color: var(--color-brand-800); }
    .dark :where(.dark\:bg-brand-900) { background-color: var(--color-brand-900); }
    .dark :where(.dark\:bg-brand-950) { background-color: var(--color-brand-950); }

    :where(.border-brand-50) { border-color: var(--color-brand-50); }
    :where(.border-brand-100) { border-color: var(--color-brand-100); }
    :where(.border-brand-200) { border-color: var(--color-brand-200); }
    :where(.border-brand-300) { border-color: var(--color-brand-300); }
    :where(.border-brand-400) { border-color: var(--color-brand-400); }
    :where(.border-brand-500) { border-color: var(--color-brand-500); }
    :where(.border-brand-600) { border-color: var(--color-brand-600); }
    :where(.border-brand-700) { border-color: var(--color-brand-700); }
    :where(.border-brand-800) { border-color: var(--color-brand-800); }
    :where(.border-brand-900) { border-color: var(--color-brand-900); }
    :where(.border-brand-950) { border-color: var(--color-brand-950); }

    .dark :where(.dark\:border-brand-50) { border-color: var(--color-brand-50); }
    .dark :where(.dark\:border-brand-100) { border-color: var(--color-brand-100); }
    .dark :where(.dark\:border-brand-200) { border-color: var(--color-brand-200); }
    .dark :where(.dark\:border-brand-300) { border-color: var(--color-brand-300); }
    .dark :where(.dark\:border-brand-400) { border-color: var(--color-brand-400); }
    .dark :where(.dark\:border-brand-500) { border-color: var(--color-brand-500); }
    .dark :where(.dark\:border-brand-600) { border-color: var(--color-brand-600); }
    .dark :where(.dark\:border-brand-700) { border-color: var(--color-brand-700); }
    .dark :where(.dark\:border-brand-800) { border-color: var(--color-brand-800); }
    .dark :where(.dark\:border-brand-900) { border-color: var(--color-brand-900); }
    .dark :where(.dark\:border-brand-950) { border-color: var(--color-brand-950); }
}

/* Spotlight background with dot grid pattern */
.bg-checkered {
    position: relative;
    overflow: hidden;
    background:
        /* Light mode spotlight: soften stops so the glow dissolves into brand-50. */
        radial-gradient(circle at 50% -45%, rgba(121, 176, 231, 0.75) 0%, rgba(153, 185, 226, 0.55) 35%, rgba(181, 207, 232, 0.35) 65%, rgba(213, 225, 241, 0.15) 80%, rgba(222, 231, 244, 0) 95%),
        var(--color-brand-50);
}

.bg-checkered::before,
.bg-checkered::after {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
}

/* .bg-checkered::before {
    background-image: radial-gradient(circle, rgba(90, 148, 209, 0.25) 2.5px, transparent 2.5px);
    background-size: 70px 70px;
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 55%, rgba(0, 0, 0, 0) 85%, rgba(0, 0, 0, 0) 100%);
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 55%, rgba(0, 0, 0, 0) 85%, rgba(0, 0, 0, 0) 100%);
}

.bg-checkered::after {
    background-image: radial-gradient(circle, rgba(45, 95, 153, 0.35) 1px, transparent 1px);
    background-size: 45px 45px;
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 40%, rgba(0, 0, 0, 1) 65%, rgba(0, 0, 0, 1) 95%, rgba(0, 0, 0, 0) 100%);
    -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 40%, rgba(0, 0, 0, 1) 65%, rgba(0, 0, 0, 1) 95%, rgba(0, 0, 0, 0) 100%);
} */

.dark .bg-checkered {
    background:
        /* Dark mode spotlight: anchored above center for a top-down glow. */
        radial-gradient(circle at 50% -50%, #1a3557 0%, #0a1520 50%);
}

.dark .bg-checkered::before {
    /* background-image: radial-gradient(circle, rgba(26, 53, 87, 0.45) 2.5px, transparent 2.5px); */
}

.dark .bg-checkered::after {
    /* background-image: radial-gradient(circle, rgba(26, 53, 87, 0.55) 1px, transparent 1px); */
}


/* headings with Mona Sans */
:where(h1, h2, h3, h4, h5, h6) {
    font-family: 'Mona Sans', sans-serif;
    font-optical-sizing: auto;
    font-style: normal;
    font-variation-settings: "wdth" 100;
    letter-spacing: -0.025em;
    color: var(--color-brand-700);    
}
.dark :where(h1, h2, h3, h4, h5, h6) {
    color: var(--color-brand-200);
}

/* H1 - Large display headings */
:where(h1) {
    font-size: 3rem;
    font-weight: 500;
    line-height: 1;
    letter-spacing: -0.04em;
}

@media (min-width: 640px) {
    :where(h1) {
        font-size: 3.75rem;
    }
}

@media (min-width: 1024px) {
    :where(h1) {
        font-size: 4.5rem;
    }
}

/* H2 - Section headings */
:where(h2) {
    font-size: 2.25rem;
    font-weight: 500;
    line-height: 1.1;
    letter-spacing: -0.025em;
}

@media (min-width: 640px) {
    :where(h2) {
        font-size: 3rem;
    }
}

/* H3 - Subsection headings */
:where(h3) {
    font-size: 1.5rem;
    font-weight: 500;
    line-height: 1.2;
    letter-spacing: -0.025em;
}

@media (min-width: 640px) {
    :where(h3) {
        font-size: 1.875rem;
    }
}

/* H4 - Card/component headings */
:where(h4) {
    font-size: 1.125rem;
    font-weight: 500;
    line-height: 1.3;
}

@media (min-width: 640px) {
    :where(h4) {
        font-size: 1.25rem;
    }
}

/* H5 - Small headings/labels */
:where(h5) {
    font-size: 0.875rem;
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: 0;
}

/* H6 - Smallest headings */
:where(h6) {
    font-size: 0.75rem;
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: 0;
}


/* p, li {
    font-size: calc(14px + 3 * ((100vw - 320px) / 830));
    line-height: 1.6;
} */

/* .text-sm p {
    font-size: calc(10px + 2 * ((100vw - 320px) / 830));
} */

/* Line clamp utilities */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

.line-clamp-4 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 4;
}

.line-clamp-none {
  overflow: visible;
  display: block;
  -webkit-box-orient: horizontal;
  -webkit-line-clamp: none;
}


.pmb p:last-child {
    margin-bottom: 0;
}

@media only screen and (min-width: 1150px) {
    .text-lg p {
        font-size: calc(18px + 3 * ((1150px - 320px) / 830));
    }
}

/* Blog title override - ensures sentence case */
.blog-title {
    text-transform: none !important;
    letter-spacing: normal;
}