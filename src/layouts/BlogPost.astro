---
// BlogPost layout
interface Props {
  frontmatter: {
    title: string;
    author?: string;
    pubDate?: string;
    category?: string;
    description?: string;
  };
}

import Layout from './Layout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';

const { frontmatter } = Astro.props;
---

<Layout>
  <Nav variant="light" />
  <article class="py-12 md:py-16 px-4">
    <div class="max-w-3xl mx-auto">
      <!-- Header -->
      <div class="mb-8 pb-8 border-b border-gray-200">
        <div class="mb-4">
          {frontmatter.category && (
            <span class="inline-block px-3 py-1 bg-accent-100 text-accent-700 text-xs font-semibold uppercase rounded-full">
              {frontmatter.category}
            </span>
          )}
        </div>
        <h1 class="text-4xl sm:text-5xl font-bold text-brand-900 mb-4 font-heading">
          {frontmatter.title}
        </h1>
        {frontmatter.description && (
          <p class="text-lg text-gray-600 mb-4">
            {frontmatter.description}
          </p>
        )}
        <div class="flex items-center text-sm text-gray-500 space-x-4">
          {frontmatter.author && (
            <span>By {frontmatter.author}</span>
          )}
          {frontmatter.pubDate && (
            <span>{new Date(frontmatter.pubDate).toLocaleDateString()}</span>
          )}
        </div>
      </div>

      <!-- Content -->
      <div class="prose prose-lg max-w-none text-gray-700 leading-relaxed">
        <slot />
      </div>
    </div>
  </article>
  <Footer />
</Layout>

<style is:global>
  article h2 {
    font-size: 1.25rem;
    font-weight: bold;
    color: var(--color-brand-900);
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-family: var(--font-family-heading);
  }

  article h3 {
    font-size: 1.125rem;
    font-weight: bold;
    color: var(--color-brand-800);
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    font-family: var(--font-family-heading);
  }

  article h4 {
    font-size: 1rem;
    font-weight: 600;
    color: #1f2937;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
  }

  article p {
    margin-bottom: 1rem;
    font-size: 1.125rem;
    line-height: 1.75;
  }

  article li {
    margin-bottom: 0.5rem;
    font-size: 1.125rem;
    line-height: 1.75;
  }

  article blockquote {
    border-left: 4px solid var(--color-accent-400);
    padding-left: 1rem;
    padding-top: 0.5rem;
    font-style: italic;
    color: #374151;
    background-color: #f9fafb;
    padding: 1rem;
    margin: 1rem 0;
  }

  article a {
    color: var(--color-accent-600);
    text-decoration: underline;
  }

  article a:hover {
    color: var(--color-accent-700);
  }

  article code {
    background-color: #f3f4f6;
    color: #111827;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
  }

  article pre {
    background-color: #111827;
    color: #f3f4f6;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1rem 0;
  }

  article ul,
  article ol {
    margin-bottom: 1rem;
    margin-left: 1.5rem;
  }
</style>